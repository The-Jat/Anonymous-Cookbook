diff -ruwN source/buildsystem/makefiles/Makefile.top source-new/buildsystem/makefiles/Makefile.top
--- source/buildsystem/makefiles/Makefile.top	2020-05-24 15:35:19.000000000 -0600
+++ source-new/buildsystem/makefiles/Makefile.top	2022-11-12 08:54:26.232793713 -0700
@@ -407,12 +407,16 @@
 	$(Q)$(AR) $(ARFLAGS) $@ $(OBJECTS)
 else
 	$(VQ)$(ECHO) $(ECHOFLAGS) "    LINK: $@"
+  ifeq ($(COMPONENT_FOR_BUILD),yes)
+	$(Q)$(BUILD_CC) -o $@ $(OBJECTS) $(LDFLAGS) $(SHAREDLDFLAGS)
+  else
   ifeq ($(CXX_IN_BUILD),yes)
 	$(Q)$(CXX) -o $@ $(OBJECTS) $(LDFLAGS) $(SHAREDLDFLAGS)
   else
 	$(Q)$(CC) -o $@ $(OBJECTS) $(LDFLAGS) $(SHAREDLDFLAGS)
   endif
 endif
+endif
 
 ###############################################################################
 # Autogenerated, implied rules
diff -ruwN source/libnsfb/Makefile source-new/libnsfb/Makefile
--- source/libnsfb/Makefile	2020-05-24 15:35:21.000000000 -0600
+++ source-new/libnsfb/Makefile	2022-11-12 08:53:23.376764307 -0700
@@ -43,10 +43,10 @@
 NSFB_XCB_PKG_NAMES := xcb xcb-icccm xcb-image xcb-keysyms xcb-atom
 
 # determine which surface handlers can be compiled based upon avalable library
-$(eval $(call pkg_config_package_available,NSFB_VNC_AVAILABLE,libvncserver))
+#$(eval $(call pkg_config_package_available,NSFB_VNC_AVAILABLE,libvncserver))
 $(eval $(call pkg_config_package_available,NSFB_SDL_AVAILABLE,sdl))
-$(eval $(call pkg_config_package_available,NSFB_XCB_AVAILABLE,$(NSFB_XCB_PKG_NAMES)))
-$(eval $(call pkg_config_package_available,NSFB_WLD_AVAILABLE,wayland-client))
+#$(eval $(call pkg_config_package_available,NSFB_XCB_AVAILABLE,$(NSFB_XCB_PKG_NAMES)))
+#$(eval $(call pkg_config_package_available,NSFB_WLD_AVAILABLE,wayland-client))
 
 # Flags and setup for each support library
 ifeq ($(NSFB_SDL_AVAILABLE),yes)
diff -ruwN source/libnsfb/src/plot.h source-new/libnsfb/src/plot.h
--- source/libnsfb/src/plot.h	2020-05-24 15:35:21.000000000 -0600
+++ source-new/libnsfb/src/plot.h	2022-11-12 08:53:23.376764307 -0700
@@ -46,7 +46,7 @@
         #error "Endian determination failed"
     #endif
 #else
-    #include <endian.h>
+    #include <machine/endian.h>
     #if defined(__BYTE_ORDER__)
         #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__
             #define NSFB_BE_BYTE_ORDER
diff -ruwN source/netsurf/Makefile.config source-new/netsurf/Makefile.config
--- source/netsurf/Makefile.config	1969-12-31 17:00:00.000000000 -0700
+++ source-new/netsurf/Makefile.config	2022-11-12 08:53:23.376764307 -0700
@@ -0,0 +1,28 @@
+override NETSURF_HOMEPAGE := "https://www.redox-os.org/"
+override NETSURF_FB_FRONTEND := sdl
+
+override NETSURF_USE_JPEG := YES
+override NETSURF_USE_BMP := YES
+override NETSURF_USE_OPENSSL := YES
+override NETSURF_USE_CURL := YES
+override NETSURF_USE_PNG := YES
+
+override NETSURF_USE_LIBICONV_PLUG := NO
+override NETSURF_USE_NSSVG := NO
+override NETSURF_USE_RSVG := NO
+override NETSURF_USE_DUKTAPE := YES
+override NETSURF_USE_HARU_PDF := NO
+override NETSURF_USE_VIDEO := NO
+
+override NETSURF_FB_FONTLIB := freetype
+override NETSURF_FB_FONTPATH := /ui/fonts/
+override NETSURF_FB_FONT_SANS_SERIF := Sans/Fira/Regular.ttf
+override NETSURF_FB_FONT_SANS_SERIF_BOLD := Sans/Fira/Bold.ttf
+override NETSURF_FB_FONT_SANS_SERIF_ITALIC := Sans/Fira/Regular.ttf
+override NETSURF_FB_FONT_SANS_SERIF_ITALIC_BOLD := Sans/Fira/Bold.ttf
+override NETSURF_FB_FONT_SERIF := Sans/Fira/Regular.ttf
+override NETSURF_FB_FONT_SERIF_BOLD := Sans/Fira/Bold.ttf
+override NETSURF_FB_FONT_MONOSPACE := Mono/Fira/Regular.ttf
+override NETSURF_FB_FONT_MONOSPACE_BOLD := Mono/Fira/Bold.ttf
+override NETSURF_FB_FONT_CURSIVE := Sans/Fira/Regular.ttf
+override NETSURF_FB_FONT_FANTASY := Sans/Fira/Regular.ttf
diff -ruwN source/netsurf/utils/config.h source-new/netsurf/utils/config.h
--- source/netsurf/utils/config.h	2020-05-24 15:35:23.000000000 -0600
+++ source-new/netsurf/utils/config.h	2022-11-12 09:00:03.996951825 -0700
@@ -63,7 +63,8 @@
      defined(__BEOS__) ||     \
      defined(__amigaos4__) || \
      defined(__AMIGA__) ||    \
-     defined(__MINT__))
+     defined(__MINT__) ||    \
+     defined(__redox__))
 #undef HAVE_STRPTIME
 #undef HAVE_STRFTIME
 #else
diff -ruwN source/nsgenbind/Makefile source-new/nsgenbind/Makefile
--- source/nsgenbind/Makefile	2020-05-24 15:35:23.000000000 -0600
+++ source-new/nsgenbind/Makefile	2022-11-12 08:53:43.392773663 -0700
@@ -10,6 +10,7 @@
 COMPONENT_TYPE := binary
 # Component version
 COMPONENT_VERSION := 0.8
+COMPONENT_FOR_BUILD := yes
 
 # Tooling
 PREFIX ?= /opt/netsurf
